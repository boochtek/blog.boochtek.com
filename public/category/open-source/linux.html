<!DOCTYPE html>
<html lang="en-US" class="no-js">
<head><script type="text/javascript" src="https://web-static.archive.org/_static/js/bundle-playback.js?v=t1Bf4PY_" charset="utf-8"></script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/wombat.js?v=txqj7nKC" charset="utf-8"></script>
<script>window.RufflePlayer=window.RufflePlayer||{};window.RufflePlayer.config={"autoplay":"on","unmuteOverlay":"hidden"};</script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/ruffle/ruffle.js"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("http://blog.boochtek.com/category/open-source/linux","20210922175812","https://web.archive.org/","web","https://web-static.archive.org/_static/",
	      "1632333492");
</script>
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/banner-styles.css?v=S1zqJCYt" />
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>GNU/Linux &#8211; BoochTek, LLC</title>
<link rel="dns-prefetch" href="//web.archive.org/web/20210922175812/http://fonts.googleapis.com/"/>
<link rel="dns-prefetch" href="//web.archive.org/web/20210922175812/http://s.w.org/"/>
<link rel="alternate" type="application/rss+xml" title="BoochTek, LLC » Feed" href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/feed"/>
<link rel="alternate" type="application/rss+xml" title="BoochTek, LLC » Comments Feed" href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/comments/feed"/>
<link rel="alternate" type="application/rss+xml" title="BoochTek, LLC » GNU/Linux Category Feed" href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/open-source/linux/feed"/>
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/web.archive.org\/web\/20210922175812\/https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/web.archive.org\/web\/20210922175812\/https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/web.archive.org\/web\/20210922175812\/http:\/\/blog.boochtek.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.2"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="twentysixteen-fonts-css" href="https://web.archive.org/web/20210922175812cs_/https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext" type="text/css" media="all"/>
<link rel="stylesheet" id="genericons-css" href="https://web.archive.org/web/20210922175812cs_/http://blog.boochtek.com/wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1" type="text/css" media="all"/>
<link rel="stylesheet" id="twentysixteen-style-css" href="https://web.archive.org/web/20210922175812cs_/http://blog.boochtek.com/wp-content/themes/twentysixteen/style.css?ver=4.7.2" type="text/css" media="all"/>
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='http://blog.boochtek.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20150825' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='http://blog.boochtek.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<script type="text/javascript" src="https://web.archive.org/web/20210922175812js_/http://blog.boochtek.com/wp-includes/js/jquery/jquery.js?ver=1.12.4"></script>
<script type="text/javascript" src="https://web.archive.org/web/20210922175812js_/http://blog.boochtek.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1"></script>
<link rel="https://api.w.org/" href="http://blog.boochtek.com/wp-json/"/>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.boochtek.com/xmlrpc.php?rsd"/>
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.boochtek.com/wp-includes/wlwmanifest.xml"/> 
<meta name="generator" content="WordPress 4.7.2"/>
</head>

<body class="archive category category-linux category-7 hfeed">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
											<p class="site-title"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/" rel="home">BoochTek, LLC</a></p>
											<p class="site-description">Web Development, Ruby on Rails, Open Source</p>
									</div><!-- .site-branding -->

							</div><!-- .site-header-main -->

					</header><!-- .site-header -->

		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">Category: GNU/Linux</h1>			</header><!-- .page-header -->

			
<article id="post-110" class="post-110 post type-post status-publish format-standard hentry category-linux category-shell category-sysadmin">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/2014/03/11/readable-shell-scripts" rel="bookmark">Burying the Lede</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Most of us don&#8217;t write very readable shell scripts. There are plenty of things we could do better, but today I want to talk about one in particular — burying the lede.</p>
<p>The term &#8220;burying the lede&#8221; comes from the field of journalism. Here&#8217;s the <a href="https://web.archive.org/web/20210922175812/http://en.wiktionary.org/wiki/bury_the_lede">Wiktionary definition</a>:</p>
<blockquote><p>To begin a story with details of secondary importance to the reader while postponing more essential points or facts.</p></blockquote>
<p>Like a good news article, code should tell a story. And the story should start with what&#8217;s most important. In the case of code, the most important information is the high-level functionality — a succinct summary of what the program does. In other words, write (and organize) the code top-down, as opposed to bottom-up.</p>
<p>Unfortunately, shell script doesn&#8217;t make this easy. Due to the way shell scripts are interpreted, you can&#8217;t call a function until after you&#8217;ve defined it. This leads to most of us structuring our code like this:</p>
<pre>function do_something { ... }
function do_something_else { ... }

do_something
do_something_else</pre>
<p>The problem with this is that the function definitions will likely take quite a few lines, and we won&#8217;t see what the top-level functionality is until we reach the end of the script.</p>
<p>I&#8217;d like to propose a standard way to structure shell scripts to mitigate this issue. (I&#8217;m really only talking about shell scripts that have function definitions within them.) I&#8217;m sure I&#8217;ve seen a few scripts do this, but it&#8217;s not very common at all.</p>
<p>My proposal is simple:</p>
<pre>function main {
  do_something
  do_something_else
}
function do_something { ... }
function do_something_else { ... }

main</pre>
<p>This structure lets us start with the lede. We describe the top-level functionality right away. Only then do we get to the secondary details. The name <code>main</code> makes it pretty clear that it contains the top-level functionality.</p>
<p>I&#8217;ve recently started writing my shell code like this, and I&#8217;m happy with the results. I&#8217;ve also started to use some other programming techniques in my shell scripts to improve readability: better naming, extracting more methods, and moving helper methods into separate files. It feels good to treat shell scripts like real code instead of just some stuff I&#8217;ve hacked together.</p>
<p>PS. The WordPress theme I&#8217;m currently using (Twenty Eleven) also buries the lede — I can barely even see the title of the blog post on my screen without scrolling. I&#8217;m going to have to change that soon.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt="" src="https://web.archive.org/web/20210922175812im_/http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="https://web.archive.org/web/20210922175812im_/http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" class="avatar avatar-49 photo" height="49" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/2014/03/11/readable-shell-scripts" rel="bookmark"><time class="entry-date published updated" datetime="2014-03-11T23:28:22+00:00">March 11, 2014</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/open-source/linux" rel="category tag">GNU/Linux</a>, <a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/programming/programming-languages/shell" rel="category tag">Shell</a>, <a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/sysadmin" rel="category tag">System Admin</a></span><span class="comments-link"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/2014/03/11/readable-shell-scripts#respond">Leave a comment<span class="screen-reader-text"> on Burying the Lede</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-46" class="post-46 post type-post status-publish format-standard hentry category-linux category-sysadmin">
	<header class="entry-header">
		
		<h2 class="entry-title"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/2011/08/26/bulk-rename-in-bash" rel="bookmark">Bulk Rename in Bash</a></h2>	</header><!-- .entry-header -->

	
	
	<div class="entry-content">
		<p>Here&#8217;s a relatively simple way to rename a bunch of files from the command line. It uses <code>sed</code> within a command substitution to compute the new names from the old names.</p>
<p>In this example, we&#8217;re renaming files that start with &#8220;ABC&#8221; to start with &#8220;XYZ&#8221; instead:</p>
<pre class="bash code">  <code class="bash">for i in ABC*; do mv $i $(echo $i | sed -e s/^ABC/XYZ/); done</code></pre>
<p>You&#8217;ll have to use shell globbing (wildcards) in the first part, to determine which files will be the source of the renaming, and regular expressions in the second part to translate the old names into the new names.</p>
<p>It&#8217;s a good idea to use <code>echo</code> in place of <code>mv</code> before running this, to see what the results will be, so you don&#8217;t make a mistake.</p>
<p>Depending on the situation, you may need to adapt this for your particular needs. For example, if you have too many files to rename, you would need to use <code>xargs</code>. Or <code>sed</code> might not be up for the task of transforming the names that you want. Or you might need to use <code>find</code> to find files within a hierarchy. As with any UNIX idiom, there are hundreds of variations on the theme.</p>
	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img alt="" src="https://web.archive.org/web/20210922175812im_/http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=49&amp;d=blank&amp;r=g" srcset="https://web.archive.org/web/20210922175812im_/http://2.gravatar.com/avatar/52bfd7cb9ac37808464919f9685ca62f?s=98&amp;d=blank&amp;r=g 2x" class="avatar avatar-49 photo" height="49" width="49"/><span class="screen-reader-text">Author </span> <a class="url fn n" href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/author/booch">Craig Buchek</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/2011/08/26/bulk-rename-in-bash" rel="bookmark"><time class="entry-date published" datetime="2011-08-26T22:53:58+00:00">August 26, 2011</time><time class="updated" datetime="2011-09-03T01:09:45+00:00">September 3, 2011</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/open-source/linux" rel="category tag">GNU/Linux</a>, <a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/sysadmin" rel="category tag">System Admin</a></span><span class="comments-link"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/2011/08/26/bulk-rename-in-bash#respond">Leave a comment<span class="screen-reader-text"> on Bulk Rename in Bash</span></a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

		</main><!-- .site-main -->
	</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="pages-2" class="widget widget_pages"><h2 class="widget-title">Pages</h2>		<ul>
			<li class="page_item page-item-2"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/about">About</a></li>
		</ul>
		</section><section id="categories-4" class="widget widget_categories"><h2 class="widget-title">Categories</h2>		<ul>
	<li class="cat-item cat-item-17"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/agile">Agile</a>
</li>
	<li class="cat-item cat-item-26"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/programming/architecture">Architecture</a>
</li>
	<li class="cat-item cat-item-20"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/blogging">Blogging</a>
</li>
	<li class="cat-item cat-item-25"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/programming/programming-languages/brilliant">Brilliant</a>
</li>
	<li class="cat-item cat-item-30"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/agile/empathy">Empathy</a>
</li>
	<li class="cat-item cat-item-27"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/agile/estimation-agile">Estimation</a>
</li>
	<li class="cat-item cat-item-22"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/gadgets">Gadgets</a>
</li>
	<li class="cat-item cat-item-7 current-cat"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/open-source/linux">GNU/Linux</a>
</li>
	<li class="cat-item cat-item-9"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/programming/programming-languages">Languages</a>
</li>
	<li class="cat-item cat-item-19"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/programming/oop">OOP</a>
</li>
	<li class="cat-item cat-item-5 current-cat-parent current-cat-ancestor"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/open-source">Open Source</a>
</li>
	<li class="cat-item cat-item-8"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/programming">Programming</a>
</li>
	<li class="cat-item cat-item-16"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/programming/programming-languages/python">Python</a>
</li>
	<li class="cat-item cat-item-29"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/resolutions">Resolutions</a>
</li>
	<li class="cat-item cat-item-28"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/agile/retrospectives">Retrospectives</a>
</li>
	<li class="cat-item cat-item-10"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/programming/programming-languages/ruby">Ruby</a>
</li>
	<li class="cat-item cat-item-6"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/webdev/rails">Ruby on Rails</a>
</li>
	<li class="cat-item cat-item-12"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/security">Security</a>
</li>
	<li class="cat-item cat-item-21"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/programming/programming-languages/shell">Shell</a>
</li>
	<li class="cat-item cat-item-13"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/sysadmin">System Admin</a>
</li>
	<li class="cat-item cat-item-18"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/agile/tdd">TDD</a>
</li>
	<li class="cat-item cat-item-4"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/category/webdev">Web Development</a>
</li>
		</ul>
</section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
			
			
			<div class="site-info">
								<span class="site-title"><a href="https://web.archive.org/web/20210922175812/http://blog.boochtek.com/" rel="home">BoochTek, LLC</a></span>
				<a href="https://web.archive.org/web/20210922175812/https://wordpress.org/">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

<script type="text/javascript" src="https://web.archive.org/web/20210922175812js_/http://blog.boochtek.com/wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20150825"></script>
<script type="text/javascript">
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type="text/javascript" src="https://web.archive.org/web/20210922175812js_/http://blog.boochtek.com/wp-content/themes/twentysixteen/js/functions.js?ver=20150825"></script>
<script type="text/javascript" src="https://web.archive.org/web/20210922175812js_/http://blog.boochtek.com/wp-includes/js/wp-embed.min.js?ver=4.7.2"></script>
</body>
</html>
<!--
     FILE ARCHIVED ON 17:58:12 Sep 22, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 08:29:16 Feb 23, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  exclusion.robots: 0.096
  exclusion.robots.policy: 0.085
  cdx.remote: 0.088
  esindex: 0.009
  LoadShardBlock: 96.325 (6)
  PetaboxLoader3.resolve: 80.14 (2)
  PetaboxLoader3.datanode: 160.677 (7)
  load_resource: 155.437
-->